<%= flash[:notice] if flash[:notice] %>

<h1> Videos Store </h1>
<h2><%= pluralize @videos.size, 'Video' %></h2>

<% @videos.each do |video| %>

<article>
  <table>
   <tr>
     <td>
       <%= video_tag(video.video_url, poster: video.poster_url, controls: true, autobuffer: true, class: 'video_thumbnail') %>
     </td>
     <td>
       <dl>
         <dt><%= link_to video.title, video_path(video) %></dt>
         <dd><%= truncate video.description, length: 22, separator: ' ' %></dd>
       </dl>
     </td>
     <td>
       <%= number_to_currency(video.price) %><br />
       <%= button_to 'Add to Cart', line_items_path(video) %>
     </td>
   </tr>
  </table>
  
</article>

<% end %>